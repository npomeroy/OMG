---
title: "OMG"
subtitle: The OCC Knowledge Base
date: "`r Sys.Date()`"
author: "NVP"
site: bookdown::bookdown_site
documentclass: book
always_allow_html: true
output:
  bookdown::gitbook:
    config:
      toc:
        before: |
          <li><a href="./">OMG</a></li>
      edit: https://github.com/npomeroy/OMG/blob/master/%s
      download: ["pdf"]
      collapse: section
      delete_merged_file: FALSE
  bookdown::pdf_book:
    includes:
      in_header: preamble.tex
    latex_engine: xelatex
    citation_package: natbib
    keep_tex: yes
---
# Preface {-}

`r knitr::include_graphics(rep("images/OCC_Diurnal_Suite_Recovery_CJS.jpg"))`

Welcome to the online knowledge base of the OCC Team.  This started as the OCC Mission Guide, a reference manual to help consolidate best practices for conducting OCC team operations at sea.  As of 2020, it has evolved into an online living book, written in R Markdown and compiled into book with [bookdown](https://bookdown.org/yihui/bookdown/),published via [GitHub Pages](https://pages.github.com/). The current live version of the book that you can bookmark is [here](https://npomeroy.github.io/OMG/). All OCC team members are encouraged to not only use it as a resource but help it grow by adding and editing content as OCC projects, methods and missions continue to change and grow. Anyone may suggest edits to the contents of the OMG by forking the OMG repository from [Noah via GitHub](https://github.com/npomeroy/OMG), pushing any changes back to GitHub, after which they may be approved for incorporation into the master copy of the OMG.  

Once you have forked the repo onto your local machine, the HTML version of the OMG may be accessed offline by simply opening the index.html file in the folder "OMG/docs" A .PDF file of the book is also generated every time the book is built, that also ends up in the "OMG/docs" folder. 

## How to Edit this Book {-}

1. Fork the repo from [Noah via GitHub](https://github.com/npomeroy/OMG).
2. Edit any existing chapter by simply editing its .Rmd file in R studio or create a new chapter by creating a new .Rmd file in the root OMG folder. Build the book to see your edits in the form of the built book. 
3. Commit your changes via GitHub Desktop (or via R if you have setup GitHub to play nicely with R.)
4. In GitHub, open a Pull Request to have your edits considered for integration into the master branch. 

**The Best How to Guide for Authoring Books with R Markdown** is written by Yihui Xie and is found right [here](https://bookdown.org/yihui/bookdown/)

If you need some tips for your R Markdown formatting, [this cheat sheet is great.](https://rmarkdown.rstudio.com/lesson-15.html)

<!--chapter:end:index.Rmd-->

# Preparing for a Research Cruise {#cruise_prep}

`r knitr::include_graphics(rep("images/Sette_Big_Island_2010_Pomeroy.jpg"))`

## Determine Goals

Determine the team's goals in the region the research cruise is scheduled to visit.  Identify all planned retreivals, deployments and specialty projects (such as the diel suite), and the number of days, staff, and boats needed to accomplish these goals.

## Map of Current OCC Sites 

```{r, echo=FALSE,message=FALSE, warning=FALSE, width="100%"}
library(leaflet)

sites <- read.csv("data/OCC_LIST_OF_SITES_21-FEB-2020.csv", stringsAsFactors=FALSE)

m <- leaflet(sites) %>% addProviderTiles("Esri.WorldImagery") %>%
  addCircleMarkers(~LONGITUDE, ~LATITUDE, radius=10, color="orange", popup=sites$OCC_SITEID) %>% setView(-158.0001, 21.4389, zoom =9)

m



```



## Spatial Data Preparation
- Create a single .kml file that includes all planned instrument retrievals and any planned additional deployments and other necessary points (collectively all called “planning points”. .kml files are more agile than ArcGIS files; they are easier to use in Google Earth for day to day planning.
- Create an ArcGIS map project that contains the locations of all planning points.

## Garmin 78 Handheld GPS Preparation
- Ensure each handheld unit is setup properly
  - Time to UTC
  - LAT and LONG in decimal degrees
- Test each handheld GPS to be taken on the cruise prior to sailing: take it outside and ensure that it collects waypoints.
- Upload planning points to both the primary and secondary GPS units.

## Datasheet Preparation

* We should make some new field datasheets before MARAMP2020 given the NEW FANCY Oracle DB!!!!!!!!

* Prepare Field Data Binders
  + Print enough data sheets for all activities, including mooring, CAU, CTD/H2O for the OCC team in addition to enough CTD/H20 data sheets for any other team on CTD/H20 Ops.
  + Attach sharp pencils to field binders

## Software Needed at Sea

| Software                                | Team Lead Only | Manufacturer      | Needed For                                         | Instrument           | Download Location                                                                    |
|-----------------------------------------|----------------|-------------------|----------------------------------------------------|----------------------|--------------------------------------------------------------------------------------|
| ARCMap                                  | x              | ESRI              | planning operations and generating maps            | NA                   | see Tomoko                                                                           |
| Google Earth                            |                | Google            | planning operations                                | NA                   |                                                                                      |
| Keyspan USA Software                    |                | Keyspan           | serial to USB adapter cable                        | GPS                  | https://www.tripplite.com/support/USA19HS                                            |
| Microsoft Access 2010                   |                | Microsoft         | mooring and CTD databases                          | NA                   | request from ITS                                                                     |
| Excel                                   |                | Microsoft         | spreadsheets                                       | NA                   | you must have this already                                                           |
| DNR Garmin                              |                | Minnesota DNR     | download of GPS Waypoints                          | GPS                  | http://www.dnr.state.mn.us/mis/gis/tools/arcview/extensions/DNRGarmin/DNRGarmin.html |
| DNR GPS                                 |                | Minnesota DNR     | upload of GPS planning points from Google Earth    | GPS                  | http://www.dnr.state.mn.us/mis/gis/DNRGPS/DNRGPS.html                                |
| Aquadopp Software - AquaPro v1.37.08    |                | Nortek            | instrument interface                               | Aquadopp ADCP        | http://www.nortek-as.com/en/support/software                                         |
| SoundTrap Host Software Version 2.0.9.x | x              | Ocean Instruments | instrument interface                               | Sound Trap           | http://www.oceaninstruments.co.nz/downloads/                                         |
| Basic Stamp Editor                      |                | Paralax Inc.      | instrument interface                               | PUC                  | https://www.parallax.com/downloads/basic-stamp-editor-software-windows               |
| Python 2.51                             |                | Python            | scripts that are part of mooring and CTD databases | NA                   | https://www.python.org/download/releases/2.5.1/                                      |
| SeaFETCOM 2                             |                | Satlantic         | instrument interface                               | SeaFet               | http://satlantic.com/seafetcom                                                       |
| Seaterm 1.59                            |                | SeaBird           | instrument interface                               | SBE39, SBE19, SBE19+ | http://www.seabird.com/software/software                                             |
| Seaterm V2                              |                | SeaBird           | instrument interface                               | sbe19+ V2, SBE56     | http://www.seabird.com/software/software                                             |
| SBE Data Processing                     |                | SeaBird           | CTD cast processing                                | SBE CTDs             | https://www.seabird.com/software-updates                                             |
| R and R Studio for STR processing       |                | R Studio          | data processing                                    | all                  | https://www.rstudio.com/products/rstudio/download/                                   |
| Ruskin                                  |                | RBR               | STR, PAR, DO                                       | RBR Solo             | https://rbr-global.com/products/software                                             |



<!--chapter:end:01-Planning-A-Field-Mission.Rmd-->

# CTD and DIC Water Sampling Field Guide {#water}

If available hands on deck and conditions allow, please conduct the CTD downcast and the water sample collection simultaneously.

## Waypoint and metadata collection

Use the OCC provided GPS unit to collect a waypoint when the CTD downcast begins. Record all metadata on provided data sheet.

## CTD CAST

1. Ensure that the CTD line is connected to the top of the CTD frame by 1 shackles.
2. Tie non-CTD end of the CTD line to the boat with a bowline or clip off with carabiner.
3. Flake CTD line on deck.
4. When the coxswain says the CTD can go over the side, raise the CTD switch to the &quot;ON &quot; position, and loudly say, &quot;ON!&quot; then lower it over the side until the top of the frame is 1 meter below the surface of the water to begin the 1 minute soaking period, either holding the line or cleating off the line to maintain the CTD at soaking depth.
5. After 1 minute soak, ask the coxswain for the current depth so you know how far you can lower the CTD without it hitting the bottom (5-10 feet less line than the bottom depth).  Un-cleat the CTD line if it was cleated and begin the CTD cast by pulling the CTD frame up until the top ring of the frame emerges from the water, then begin gradually lowering at a consistent rate, hand over hand, until the CTD gets to the target depth (using the markings on the line to estimate depth). Once the target depth is reached, pull the CTD back on board.
6. Once the CTD is back on board, lower the switch to &quot;OFF&quot;, and loudly say &quot;OFF!&quot;

## Water Sample Collection

1. Prime the Niskin Bottle, ensuring the petcock and the air bleed valve are closed.
2. Clip off the boat side of the niskin line to the boat.
3. Near the end of the the CTD soaking time, lower the weight and the open Niskin bottle over the side so the top of the Niskin is at 1m depth (surface of water at the BLACK mark drawn on Niskin line).
4. Clip the messenger on to the line
5. When the CTD begins its downcast, send the messenger to trigger the Niskin to close. Ensure no air bubbles are trapped inside the Niskin and bottle sits vertically in the water column before firing the messenger.



## Water sample Processing

1. Designate roles: bottle filler, mercuric chloride (HgCl2) handler, data recorder.  NOTE: Supersaturated mercuric chloride solution is extremely dangerous; use the utmost caution when dealing with the chemical.  All personnel working with it are required to wear eye protection.  The mercuric chloride handler is also required to where disposable nitrile gloves. In the event of contact with any part of the body, wash the area profusely. If contact is made with eyes, abort operations, rinse continuously with fresh water (or salt if fresh has run out), alert the ship and return ASAP.
2. Remove a bottle and its stopper from the storage tote and insert the tygon tubing to the bottom of the bottle. With the tygon tubing attached to the Niskin bottle dispensing nipple, open the Niskin bottle valve and allow for three complete flushings of the bottle to occur before stopping the sample collection (i.e. start the collection and count how long it takes for the bottle to overflow and then allow that to occur for 2x the required fill time...ie. if the bottle fills in 20 seconds, allow the sample water flow to flush the bottle for 60 seconds). Attention must be given to how the sample water enters the bottle. Care should be given to ensure that smooth water flow into the bottle is maintained and that no bubbles are created during the dispensing of sample. Any bubbles introduced to the sample will alter the pCO2 within the sample water and produce inaccurate DIC results.
3. After the appropriate flushing time, shut off the Niskin valve to stop the water flow, while at the same time ensuring the tygon tubing doesn&#39;t come off the bottom of the sample bottle. Once the flow is shut off, pinch the tubing and in one motion remove it from the bottle. This &quot;pinch and remove&quot; action with the tubing should establish a consistent head-space in all the sample bottles. The meniscus of the sample should be about 1 cm below the neck of the bottle (see picture.)
`r knitr::include_graphics(rep("images/BOD_bottle_headspace.png"))`
4.
  a. Once the proper head space is established, pipette 200ul of HgCl2 saturated solution into the sample bottle
  b. Use the syringe containing vacuum grease to make 3-5 vertical &quot;stripes&quot; of grease on a clean, dry stopper. Insert the greased stopper until fully seated in the bottle, then twist until the grease completely seals the bottle contents. The vertical stripes of grease allow for gases to escape the bottle neck while the stopper is being inserted. Having the stopper clean/dry ensures that other than sample water isn&#39;t introduced into the bottle. Twisting the stopper, once it has been fully seated into the neck of the bottle, ensures a smooth distribution of grease within the sample bottle&#39;s neck and an air tight seal.
  c. Use the rubber band and plastic collar to lock down the stopper inside the bottle. Once secured, softly invert the bottle 1-2x to mix the HgCl2 with the water sampleand secure the sample bottle in the field container.
  d. Complete data sheet including REA Site name or OCC Site Name (if it exists), waypoint name (default), UTC date and time, lat and long, sample depth and DIC bottle #.

## Mercuric Chloride Emergency Procedures

* Eyes: Irrigate immediately with large quantity of water for at least 15 minutes.
* Skin: Immediately flush with plenty of water for at least 15 minutes.  Remove any contaminated clothing. 
* Inhalation: Remove to fresh air. If not breathing, give artificial respiration. If breathing is difficult, give oxygen. 
* Ingestion: Only induce vomiting if directed to do so by medical personnel.
* The MSDS can be seen from any NOAA Google Account via [this google drive link](https://drive.google.com/open?id=12w0Kmi8VVE9n_0A5_BhNVq6l4nMDtM1K)

### Mercuric Chloride Safety Data Sheet (SDS)

![](images/Saturated-Mercuric-Chloride-SDS_Page_1.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_2.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_3.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_4.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_5.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_6.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_7.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_8.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_9.png){width=100%}
![](images/Saturated-Mercuric-Chloride-SDS_Page_1.png){width=100%}

<!--chapter:end:02-Water-Sampling-and-CTD-Protocol.Rmd-->


# Data Processing and the Occ Package {#data_processing}
The *occ* package is uploaded to GitHub and can be downloaded directly in R. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, tidy = TRUE, warning = FALSE, message = FALSE, strip.white = TRUE, cache = TRUE)
```

1. Open the *devtools* library.
```{r load_devtools, eval = FALSE}
library(devtools)
```

2. To download the *occ* package, use the `install_github` command. The repository name is in the form "username/repo". For the *occ* package, the username is "hannahbarkley" and the repo is "occ". This install only need to occur once; however, the *occ* package will need to be reinstalled if there are updates to the package (which is likely).
```{r install_occ, eval = FALSE}
install_github("hannahbarkley/occ")
```

3. Once installed, load the *occ* package.
```{r load_occ}
library(occ)
```

<!--chapter:end:03-Data-Processing.Rmd-->

# Diel Suite {#dielsuite}

`r knitr::include_graphics(rep("images/d_suite_deploy_small.jpg"))`


## Diel Suite Underwater Checklist

PUC

1. Tubes cleared of air and water with swipe of pump
2. Tubes connected to valves
3. Valves opened one full turn

ADCP

1. Ensure ADCP has unobstructed view of the surface
2. Get compass bearing on ADCP head direction after final installation

<!--chapter:end:05-Diel-Suite.Rmd-->

# (PART\*) Instruments {-}
# STR

```{r, echo=FALSE}
knitr::include_url("https://www.youtube.com/embed/C-7tl6Ddl_U")
```

As of 2020, the OCC team uses two models of temperature sensor, the [SBE56](#sbe56) and the RBR Solo v3.  All STRs must be programmed prior to deployment and have fresh batteries and dessicant installed. See manual's for specific programming guidance.

## RBR Solo V3 STR

Find the user manual in "Reference" section of OCC files at sea or at [this google drive link](https://drive.google.com/drive/folders/1U-g1gTLOArcf7o5yXx-76z2HU-ha1qCJ)

**Physical Preparation for Deployment**

`r knitr::include_graphics(rep("images/STR_party_2019.jpg"))`

- Use brand new Tadiran Lithium Thionyl Chloride 3.6v batteries

- Wrap instrument housing with yellow "PVC floor marking tape", leaving the serial number exposed

**Programming**

1. Open Ruskin

2. Connect to the instrument with the supplies USB C cable, it should appear in the "Navigator" view after a few seconds

3. Ensure that your computer is connected to the internet so that the program can get the correct time from your computer.

4. Click UTC to set the instrument's time to UTC

5. Click on the "Information" tab and confirm that the battery has 3.6v

6. After programming each instrument, disconnect the USB cable, install a fresh desiccant and close the instrument in a short period of time so that the desiccant does not absorb ambient moisture in the air

7. Parameters

a. Sampling Interval: 1 sample every 5 minutes

b. Sampling mode: Continuous

- "Ruskin_instrument.log" keeps a text file that includes the parameters of each instrument programmed

- .rsk files are sqlight data files which are open source and non-proprietary

**Downloading Data from Solo 3**

1. Connect to the instrument

2. Select the dataset and download it

**Processing RBR Solo 3 Data Files**

see [Data Processing with the OCC Package](#data_processing)

**Factory Recalibration of the Solo 3**

- Call RBR to arrange the re-calibration of each Solo 3, which will cost approx. $120

- Instrument drift over 3 years should be less than .006 C, thus there is no need to re-calibrate the data set with post-cruise calibration coefficients

- In Ruskin, by default, the name of a data file is composed of the following information:
  - The first six digits represent the logger serial number.
  - The next eight digits represent the current year, month, and day.
  - The next four digits represent the current time to the minute.
  - The file extension indicates the file format and should not be changed.  If you change it, the file extension that you specify becomes part of the name, and the required extension is appended. For example, the file named 911936_20090522_1613.rsk contains data for a logger with a serial number of 911936 whose data was downloaded in 2009 on May 22 at 4:13 pm.
  
## Seabird Electronics SBE56 STR {#sbe56}

As of 2020, the OCC team is not buying anymore SBE56 sensors due to history of inadequate endurance we’ve experienced with them. We have determined that units within a certain range of serial number are high risk for low endurance (Ari knows the bad ones!)

Just like the RBR Solo v3, the SBE56 is programmed to sample every 5 minutes for 30S. The user mnual for the SBE56 can be found [here](https://drive.google.com/drive/folders/1ujFmH1pJ704ikrsc11Ji2eNeuIBQ5JMa).

**Here are the basic steps to program the SBE56:**

1. Open SeatermV2 and select SBE56 from the instruments menu.
`r knitr::include_graphics(rep("images/SBE56_program_step_1.jpg"))`
2. Open the housing with the custom endcap remover and connect the SBE 56 to your PC via a USB mini cable.
`r knitr::include_graphics(rep("images/SBE56_connect.jpg"))`
2. When a successful connection is made, you will notice a "Device Identified" notification in the bottom left of the screen and you will see the serial number of the unit you have connected to in the upper left of the application window and in the current configuration window.
`r knitr::include_graphics(rep("images/SBE56_program_step_2.jpg"))`
3. Edit the configuration options as follows
  1. sample period = 5 minutes (300 seconds)
  2. set time to UTC by clicking the "time options" button on the right and select "GreenWich Mean Time."
  `r knitr::include_graphics(rep("images/SBE56_program_step_3.jpg"))`
  3.  check the box for clear memory
  4.  check the boxy for clear events
  5.  check the box for new battery installed (if it is relatively new, which if it is just back from refurbishment, it should be)
  6.  set the date and time for the unit to begin sampling for a time is prior to the day it will be deployed
4.  When you are done editing the configuration of the SBE56, click the "Update Configuration" button and confirm the changes you want to make when the pop-up window asks you to do so.  When you have finished, you should see the notification in the bottom left that says, "finished configuring device - success." At this point double check that the "current configuration" window on the left shows the parameters that you intended to program the instrument with. 
  `r knitr::include_graphics(rep("images/SBE56_program_step_4.jpg"))`
5.  At this point, you can disconnect the SBE56, install a new dessicant in its endcap, examine its o-rings for any hairs and re-seal the housing. It is now ready for taping and installation in the deployment bracket. 

**Downloading Data from the SBE56**

1. Connect to the instrument

**Processing SBE56 Data Files**

see [Data Processing with the OCC Package](#data_processing)

# CTD

## RBR CTD in Profiling Mode

## SBE19 in Profiling Mode

While the SBE 19 is the oldest CTD in the OCC team inventory, it is used as a dedicated shipboard CTD on occaision

* Input commands in upper or lower case letters and register commands by pressing the Enter key. 
* If the system does not return an S> prompt after executing a command, press the Enter key to get the S> prompt. 
* The SEACAT sends ‘#’ if an invalid command is entered. 
* If a new command is not received within 3 minutes after the completion of a command, the SEACAT returns to the quiescent state and the command/data echo area indicates time out. You must reconnect to the instrument before sending any commands. 
* For RS-232 communication: If the instrument is transmitting data and you want to stop it, type ^C or press the Esc key or Stop on the Toolbar. Press the Enter key to get the S> prompt. 
* Commands marked with * (* is not part of the command) alter the SEACAT’s memory and require verification before executing, to prevent accidental modifications.
After the command entry, SEATERM responds:
‘message’ Y/N Type Y and press the Enter key.
SEATERM then responds:
are you sure ^Y/N Hold down the Ctrl key and type Y (any other response aborts command). 
* Braces [ ] indicate optional parameters of the command. Items enclosed in braces need not be entered. 

Find a list of commands for the SBE19 [HERE](https://docs.google.com/document/d/1WkYxlEDpUm_A1JY6Fx7Kq8Fi2c_drbbzcXDoJRtYLZk/edit)

**example status output of an SBE19 ready to profile after typing "ds" and hitting enter**

SEACAT PROFILER V3.1c SN 3029   06/05/18  20:08:52.998
strain gauge pressure sensor: S/N = 2657401406,  range = 1000 psia,  tc = 194

clk = 32767.852   iop = 148   vmain = 12.2   vlith = 5.1

mode = PROFILE  ncasts = 0

sample rate = 1 scan every 0.5 seconds

minimum raw conductivity frequency for pump turn on = 3257 hertz

pump delay = 40 seconds

samples = 0   free = 174128   lwait = 0 msec

SW1 = C8   battery cutoff = 7.3 volts

number of voltages sampled = 0

logdata = NO

S>ST

date (MMDDYY) = 060518

time (HHMMSS) = 200930


## SBE19Plus in Profiling Mode

1.  Remove the dummy plug from the SBE 19plus’ Data I/O 4 pin connector and install the Sea-Bird I/O cable connector, aligning the raised bump on the side of the connector with the large pin (pin 1 - ground) on the SBE 19plus.  Plug the serial connector into a serial to usb (Keyspan) converter and plug the USB cable into the computer.
2.	Open SeaTerm.exe. The display shows the main screen.
3.	Click Connect on the Toolbar to begin communications with the SBE 19plus. A "S>" should be shown on the display if the connection is successful. If it does not show:
    +Click Connect again.
    +Check cabling between the computer and the SBE 19plus.
    +Verify the correct instrument was selected and the COM settings were entered correctly in the Configure menu.
4.	Display SBE 19plus status information by clicking Status on the Toolbar.  The display looks like this:
    + SeacatPlus V 1.3 SERIAL NO. 4289 16 July 2005 14:02:13
    + vbatt = 9.6, vlith = 0.0, ioper = 61.2 ma, ipump = 25.5 ma, iext01 = 76.2 ma,
    + status = not logging
    + number of scans to average = 1
    + samples = 5000, free = 376300, casts = 1
    + mode = profile, minimum cond freq = 3000, pump delay = 60 sec
    + autorun = no, ignore magnetic switch = no
    + battery type = ALKALINE, battery cutoff = 7.5 volts
    + pressure sensor = strain gauge, range = 1000.0
    + SBE 38 = no, Gas Tension Device = no
    + Ext Volt 0 = yes, Ext Volt 1 = no, Ext Volt 2 = no, Ext Volt 3 = no
    + echo commands = yes
    + output format = converted decimal
    + output salinity = no, output sound velocity = no
* Make sure in the above information it does not say BATTERY LOW.  Batteries should be replaced prior to each cruise; however, it is always good to double check.  Ensure UTC time is set correctly.  The correct time can be taken from the ship clock or a properly calibrated GPS unit.
5.  When you have confirmed that all data has been obtained from the instrument and you are ready to clear its memmory, send the SAMPLENUMBER=0 or INITLOGGING (e.g. S>samplenumber = 0 or S>initlogging) command to remove unnecessary data files. If one of these commands is not sent, new data will be stored after the last recorded sample, preventing use of the entire memory capacity and make file management more difficult during the next upload.
6.	Disconnect the Sea-Bird I/O cable connector and screw on the dummy plug.  The CTD can be properly stowed until redeployment.  


## SBE19Plus in Moored Mode Mode
1.	Connect instrument and check status: Status > Display status and configuration parameters
2.	Set date and time under General Setup > Set Date and Time. Date and time are in mmddyyyyhhmmss format (i.e. 6/12/2018 06:15:00 is 06122018061500).
3.	Clear all past data General Setup > Initialize Logging.
4.	Set CTD to moored mode under Moored Mode Setup > Set sampling Mode to Moored. Execute command twice to switch to moored mode.
5.	Set sample interval under Moored Mode Setup > Set Interval (sec) between Samples. For a short deployment (2-4 days), use a sample interval of 10 seconds. For a longer deployment (> 1 week), use a sample interval of 1 min or 5 min.
6.	Set number of measurements to average under Moored Mode Setup > Set number of measurements to average. Set to 4.
7.	Set pump mode under Moored Mode Setup > Set Pump Mode to “pump for 0.5 sec before sampling”.
8.	Set start date and time under Logging > Set delayed start date and time.
9.	Start logging under Logging > Start logging when specified by StartDateTime.
]

## Downloading the SBE19Plus

1.	Connect to the 19P with the interface cable.  
2.	Open SeaTerm.exe.  From the main screen, select the Configure menu.  From this menu, select SBE 19plus. Click on the Upload Settings tab.  Make sure the Upload Baud Rate reads 9600.  In the same menu, click All separated by cast.  This allows a separate file to be written for each cast.
3.	Click Connect on the Toolbar to begin communications with the SBE 19plus. You should see "S>" when it connects.
If the system does not respond as shown above:
 * Click Connect again.
 * Check cabling between the computer and the SBE 19plus.
 * Verify the correct instrument was selected and the COM settings were entered correctly in the Configure menu.
5.	Click the Upload button on the Toolbar to upload stored data
 * In the Open dialog box, save the file to the designated location as specified [in this Google Drive document](https://drive.google.com/drive/folders/1WcZclgRCLHNOXykYigSZviiwFEH02lKx)

# SeaFet pH Sensor

The OCC team uses the SeaBird SeaFet pH sensor as part of the [Diel Suite](#dielsuite) to capture pH information around the clock over a typical deployment interval of 1 to 2 days.

## Conditioning the SeaFet in seawater at least 24 hours prior to deployment

At least 24 hours prior to deployment, the SeaFet must be activated in polled mode (aka low power, aka sleep mode) in a large volume of solution with a similar pH to the pH of the waters in which the unit will be deployed in order to produce accurate data immediately upon deployment.  We call this &quot;conditioning time&quot;.  Conditioning in the wetcap with artificial seawater will not work because ionic exchange will quickly change the pH of the small volume of water in the wetcap, thus not actually conditioning the instrument.

##How to Set the SeaFet to polled mode**

1. If needed, install new batteries in the SeaFet (12 Ds)
2. Remove dummy plug from endcap of SeaFet and connect SeaFet to computer with USB cable
3. Open SeaFetCom software
4. Swipe magnet over magnetic switch to &quot;activate&quot; batteries (indicator light by magnetic switch will blink green)
5. Press &quot;connect&quot;
6. Open settings and confirm operational mode is &quot;polled mode&quot;
7. Click &quot;upload&quot; to make sure
8. Click &quot;disconnect&quot;

## Programming the SeaFet for Deployment (After it has already been warming up in polled, aka low power sleep mode for at least 24hrs)

**In the dry lab prior to deployment**

At least **24 hours** prior to deployment: install and activate internal batteries. To activate internal batteries, swipe the magnet to the target until the indicator LED starts flashing green (this may take a few attempts). Alternatively, connect the instrument to the computer and place in **periodic mode** following instructions below.

1. Remove the dummy plug and connect data logger cable.

2. Open SeaFETCom and select &quot;Connect to SeaFET&quot; to begin communications with instrument.

3. Sync instrument clock with computer clock: Sensor -\&gt; Set Clock, &quot;Sync Time&quot; . Instrument time should be in UTC.

4. To access SeaFET deployment settings, select the &quot;SeaFET Settings&quot; button in the dashboard window or Sensor -\&gt; &quot;SeaFET Settings&quot;.  Use the following settings:

**General**

**Operational Mode:** Periodic

**Sample Interval** : 1 min

**Offset** : 0 sec

**Number of samples in average:** 30

**Number of frames in burst:** 1

**Enable Sampling Window** : If using, check box and set appropriate start and end dates

\*We haven&#39;t been able to make this work well, so don&#39;t use sampling interval for now\*

**Internal Device Logging**

**        Logging level:** INFO

**Maximum log file size:** 9999 KB



**Telemetry**

**Serial Baud Rate:** 57600

**Transmitted Frame Format:** FULL\_ASCII

**Instrument Logging Frame Format:** FULL\_ASCII

**Log File Creation Method** : By file size

**Maximum Size:** 9999 KB

**Uncheck**&quot;legacy format&quot;

**Processing**

**Salinity** : 35 psu

**External Pump**  - no external pump in use

**CTD** – no CTD in use

Note: For RAMP deployments, the SeaFET will be deployed in **periodic mode** , in which it will sample at a specified interval and burst size and go to sleep in between measurements.  The instrument can be put in **polled mode,** in which it remains in a low power sleep state until woken by an external command, for long-term storage or shipping. **Continuous mode** should only be used when the instrument is powered by an external power source.

**Activiate the instrument prior to getting on the small boat**

1. Start deployment by selecting the &quot;Start&quot; button in the SeaFETCom dashboard or Sensor -\&gt; &quot;Start&quot;.
2. Disconnect from SeaFET, remove data logger cable, and replace dummy plug.

**On the small boat**

1. Immediately prior to deployment, remove wet cap. Remove two stainless steel plugs and store securely. Invert the instrument to pour the storage solution from the wet cap into a sink. Using a 5/32&quot; hex driver or Allen key, remove the three 10-32 x 5/8&quot; socket head cap screws from the wet cap. Remove the wet cap.
2. Install foul guard. Place instrument on a flat surface with the sensor end cap up. Place the electrode foul guard over the electrode. Insert the three 10-32 x 5/8&quot; socket head cap screws removed from wet cap and tighten completely. Sensor end cap should not be exposed to air for more than a few seconds, so submerge in water if not immediately deploying underwater.

**Retrieving the SeaFet**

1. Upon recovery of the instrument, stick the wetcap end into a bucket of seawater for return to the ship or remove foul guard and replace wet cap. Ensure wet cap is filled with sterilized, artificial seawater or filtered seawater. Keep the sensor end wet at all times (it can be without water no more than an hour).

## Downloading Data from the SeaFet**

2. Remove dummy plug, attach data logger cable, and connect to SeaFETCOM software.

3. Select &quot;Transfer Files&quot; from the SeaFETCom Dashboard.

4. In the &quot;Local Filesystem&quot; pane, press &quot;Browse&quot; to select the local folder on the computer that will receive downloaded files.

5. In the &quot;Instrument Filesystem&quot; pane, select the files to be downloaded from the SeaFET and press the &quot;\&lt;-&quot; button to transfer selected files.
  + A Seafet deployment creates 2 file types: a log file that contains metadata about the deployment and the data file (may be more than one data file)

6. If the instrument will be used in the near future, place in **polled mode** following deployment steps above. This low-power stand-by mode will maintain a continuous current flow to the sensing element and eliminate the need for a 24-hour warmup. If the instrument will not be used in the near future, deactivate internal batteries by swiping the magnet over the target until the LED flashes red.

## Properly Store the SeaFet

It is crucial to store the SeaFET sensors with clean seawater in the wet cap. If seawater is not available, artificial seawater will suffice. The internal KCl reference gel in the DuraFET will become dry if left out of water, resulting in calibration drift and potentially causing irreversible damage.  **Do not store**  the SeaFET with freshwater in the wet cap, as this will change the chemistry of the external reference electrode.

If storing or shipping the SeaFET, disconnect the batteries in SeaFETCOM:

- Connect the SeaFET to SeaFETCom
- Navigate to Sensor \&gt; Advanced \&gt; Disconnect for Storage.

This will disconnect the isolated battery pack from the external reference sensor to retain battery life.

## Email Exchanges about Seafet for reference

**Notes on SeaFet soaking and response time**

| February 12, 2018 Hi Noah,

**Yes indeed, if you are concerned about the time it takes to stabilize, you could combat this by immersing in some seawater that is close to the sites parameters ahead of time.**

**Know however, that having the SeaFET running in the small volume of water within the wetcap, it will quickly become altered from normal regarding the small volume and ionic exchange.**

**(This might be the reason why you mentioned the pH value of 6 in the wetcap currently.)**

**Ideally one would want to have a larger water** volume however this might require some creativity to accomplish !

Proposed settings look fine !

Regarding a specific start time:

Within SeaFETCom - SeaFET Settings - In the SeaFET General Settings Tab you can select the desired Start date, but I not Believe you can specify the time of day.

But looking into the firmware commands it appears the SeaFET can be programmed with a start time as well.

At the SeaFET&#39;s command prompt, enter the following commands as an example: &quot;set --samplwin true&quot; and then &quot;set --samstart yyyy/mm/dd.hh:mm:ss

Note these commands can be sent using the &quot;Command Terminal&quot; found under Sensor Menu - Advanced in SeaFETCom, or through TeraTerm direct serial connection.

I believe programming in periodic mode, with a delayed start up time would achieve the same effect.

Please let me know if you have any questions or comments.

Kind Regards,
Darrell

| February 9, 2018 Email from Darrel at Seabird Tech Support: |
| --- |

  |
| --- |

Hello Noah,

Thank You for your email !

- Is 24hrs adequate for the instrument to &quot;warm up&quot; in polled mode (I believe you&#39;ve called this &quot;conditioning mode&quot; before) prior to deployment or are multiple days necessary?

**The time of **** SeaFET ****&#39;s sensors adjusting to the in-situ environment can vary. Really it depends on how different the water is from the storage solution.
When we perform calibration it can take anywhere for a day, to several days - but we are looking for high level of stability.
When deploying the  **** SeaFET **** the pH values may take a couple of days for the readings to stabilize to the environment.**

- How long can the sensor be exposed to air before damage to the sensor occurs? (We are wondering about best practices for taking the instrument from the small boat into the water. For instance, the wetcap remains on the instrument until we get to the dive site. We get to the dive site and prepare our SCUB gear, then remove the wetcap and affix the protective copper endcap over the sensor - at this point, 1 to several minutes my pass before it is actually submerged in the ocean when we roll in the water.)

**I do not see a problem here. For damage to occur to the ISFET it will have to become dry. I would say best practice would be no more than 1 hour. But a couple of hours will not cause damage, just likely additional time to reach stability in the new environment. The external reference can become dry without damage - but some further conditioning time would be expected.**

- Is setting the instrument to periodic mode with a future sample start date considered a low power mode, comparable to &quot;polled mode&quot;

Yes I believe this would achieve the same, however you would need to ensure to switch to polled mode if this is method use during deployment.
If you have an external controller, polled is likely the better option for use. If you were using periodic mode and an external device collecting the SeaFET&#39;s data - this would rely on the two systems have no change in the their clocks. Polled mode would be better as the external controller would be able to collect data whenever it chooses.

I hope this helps !

Please let me know if you have any questions or comments.

Kind Regards,
Darrell

**Greg Ikeda** Thu, Oct 1, 2015 at 10:44 AM

Hi Noah,

You&#39;ve brought up some good questions about the SeaFET- I went ahead and consulted our engineer responsible for this instrument to obtain some more concrete answers.

SeaFET soak time:

Craig is correct- the SeaFET requires a &quot;conditioning time&quot; that allows the sensors to stabilize before achieving full accuracy. I&#39;ve attached a paper that explores the best practices for obtaining quality data from the SeaFET. Please reference this document for quality control procedures. From this paper:

Upon first contact with seawater, pH sensor voltages relative to both reference electrodes exhibit an asymptotic
drift. This conditioning period arises from several sources:

1) Achieving a stable flow of ions across the liquid junction of the internal reference electrode (nominally hours),

2) replacement of Cl – with Br ? in the solid solution of AgCl of the Cl-ISE (nominally days),

3) an ISFET conditioning component, related to the initial power-up of the chip, the exact basis of which is not fully understood (nominally 1 day), and

4) a pressure effect on the ISFET and internal reference electrode through changes in the liquid junction potential that may become important if the sensor is deployed more than 20 m below the surface (nominally 1 h).

Factors 1–3 can be addressed by operating the pH sensor continuously in seawater (never powering off the ISFET) for one week prior to deployment and taking care to keep the sensor wetted in natural seawater during transport.

SeaFET response time:

It very much depends on the system at hand. After initial conditioning (as described above):

a) With continuous water flow, either naturally occurring or forced, the response is practically instantaneous.

b) If the sensor has to re-condition to a new volume of water for every measurement, it could take up to 30sec to converge to the right number. For the SeapHox we added a configuration parameter to delay the measurement for this reason.

These reasons certainly make the SeaFET a poor match for use on a moving platform. I hope this clarifies your questions about the SeaFET. Please review the attached paper and let us know if you have additional questions.

Regards,

Greg


Greg Ikeda
Technical Support
Sea-Bird Electronics
13431 NE 20th Street
Bellevue, Washington 98005
Telephone: [(+1) 425-643-9866](nulltel:%28%2B1%29%20425-643-9866)
Fax: [(+1) 425-643-9954](nulltel:%28%2B1%29%20425-643-9954)
E-mail: [gikeda@seabird.com](nullmailto:gikeda@seabird.com)
Web: [http://www.seabird.com](http://www.seabird.com/) ![](data:image/*;base64,R0lGODdhAQABAHcAACH5BAEAAAEALAAAAAABAAEAgAAAAAAAAAICTAEAOw==)

# PUC - Portable Underwater Collector {#puc}

Part of the [diel suite](#dielsuite), the Programmable Underwater Collector (PUC) is a moored instrument used to collect water samples autonomously at pre-determined times. The OCC team uses the PUC to analyze the diel carbonate cycle at study sites.

## General Notes

* Decide on sampling interval for deployment period
* There are 3 versions of PUCS with different O rings
* See PUC fill time table below to program each PUC with a specific pump time to achieve the desired 800 mL in each tedlar sample bag
* Batteries: use one change of 12 AA alkaline batteries for two deployments

* Red ON/OFF switch mounted on motherboard
  + turn to ON when PUC in to be used.
  + when ON, access Basic stamp Editor using magnet+PUC comm cable.
  + when ON, flush tubing prior to deployment using magnet.
  + turn to OFF when PUC in storage. No need to remove AA batteries.

## Preparation the Day Before Deployment

Mount PUCs to crates with cable tieas, 3 PUCs per crate.  Print out the [PUC deployment underwater checklist at this Google Drive link](https://drive.google.com/drive/folders/1X6fAG4OIDs66Ji5xzYsX8JySqhkSs5k-)

**Preparing 1L tedlar sample bags with mercuric chloride**

1. Label the bags with a large chisel tip sharpie with the hour they will sample in 24hr time format
2. Open bag valve 1 full turn
3. Evac air out of bag with plastic syringe
4. Close bag valve while syringe is attached and vacuum is apparent
5. Load up glass syringe with 200 ul HGCL2, draw it carefully, tap to remove air
6. Insert syringe needle through septum and inject HGCL2

### Programming PUCS with firmware version 2018-JAN-7

**Note: This should take place the night before the planned deployment**

1. If necessary, install 12 new AA alkaline batteries into the PUC (one set of batteries is used for 2 deployments)

2. Open the PUC carefully with the PUC opener tool

3. Connect the PUC to your PC with the RS232 (serial) cable and a Keyspan USB to serial adapter. NOTE: It may be necessary to plug the USB cable into a &quot;high-power&quot; USB port on your PC. If using the instrument computer PICSC26, this is the USB port that has a lighting bolt symbol over it

4. Turn on the red power on/off switch on the PUC motherboard

**Open the Basic Stamp Editor program**

1. Select Run then Debug then New to open a programming terminal

2. If the PUC does not connect, try selecting a different com port

3. Individual PUC d1eployment status is displayed

4. Check the date, time, pump time and programmed time (the PUC pump will run for 10 seconds while you review this information, at the end of the 10 sec period, you will have 30 sec waiting period to input commands into the terminal before the pump runs again and re-displays current settings.  If you do not enter commands within the 30s window, the program will time out and you must swipe the magnet over the magnetic switch (red dot on endcap) to start a new 30s programming window)

5. Set parameters for the deployment keying and pressing enter for numbers 1-4 that correspond to the following:
    + set Date/Time: MM/DD/YY, HH/MM
    + Display Date/Time: to display the date time programmer has entered.
    + set sample Date and Time: MM/DD/YY, HH/MM (we set PUCs to UTC time, use [the PUC deployment planning and data sheet at this Google Drive link](https://drive.google.com/drive/folders/1aprNsz_a0cfscmCBz0DjbCuvCFerOfaw)  to determine the proper UTC time according to the local solar time), and Pump Time (the amount of time in minutes that the pump runs to collect the water sample.

6. If the PUC time reads more than 60 seconds, run the script in the basic stamp editor to correct this: PUC Clock Fix\_DS1302\_Demo.bs2 found **where is this file, when found we need to put it in the PUC google drive folder?**
* Then open the latest firmware from basic stamp from the [PUC Google Drive Folder](https://drive.google.com/drive/folders/1X6fAG4OIDs66Ji5xzYsX8JySqhkSs5k-): PUC firmware upgrade 07Jan18.bs2
* note: You may need to change the comp port number in the top line of code

7. Start Sample Program, results in the PUC displaying &quot;Entering sample Mode&quot; + Sample Time + Pump Time + current Date/Time

8. NOTE: all PUCs do not pump at the same rate.  We aim to have 800mL of water in each 1L bag. The time it takes for a pump to fill a bag to 800mL varies from 27-36 minutes; see the chart below of PUC times in the next and program each PUC accordingly.

9. The final program step is ALWAYS press #4 to get &quot;Entering sampling Mode&quot; prompt. Confirm sample date/time and pump time.

10. Pre-fill a Diurnal Suite Datasheet Spreadsheet with relevant information for the deployment
  
11. After programming is complete and all parameters are verified, seal the PUC
  + clean/lubricate o-ring.
  + Install one large or several small desiccants inside the PUC, ideally rubber banded to the motherboard or battery packs somehow
  + hand tighten PUC cap to PUC body using PUC opener tool

## PUC Rates and Fill Times (As of June 2018)

| **PUC  SN** | **Time to 800mL (minutes)** | **March 2018 Tested Rate (mL/min)** |
| --- | --- | --- |
| 1 | 39 | 20.6 |
| 2 | 30 | 26.4 |
| 3 | 31 | 25.5 |
| 4 | 32 | 24.7 |
| 5 | 33 | 23.9 |
| 6 | 39 | 20.6 |
| 7 | 32 | 25.2 |
| 8 | 29 | 27.4 |
| 9 | 37 | 21.8 |

**Don't Overfill Those PUC Bags!**

`r knitr::include_graphics(rep("images/PUC_bag_pop.png"))`

## PUC Deployment

1. Ensure PUCs are fastened securely to the milk crate (maximum 4 PUCs per crate)
2. With tubing connected to &quot;water out&quot; valve tip but NOT YET to the tedlar bag, swipe the magnetic switch (red dot) on PUC endcap to run the pump once to pump ambient seawater through the tubing.
3. Connect the other end of the tubing to the &quot;water in&quot; valve tip of the tedlar bag
4. Open tedlar bags by turning valve one full turn

## PUC Recovery

Print out the [PUC retreival underwater checklist at this Google Drive link](https://drive.google.com/drive/folders/1X6fAG4OIDs66Ji5xzYsX8JySqhkSs5k-)

1. Gather tools needed
    + Zip tie snips
    + Goody bag for collecting filled Tedlar bags
    + 50lb open bottom lift bag and carabiner to lift milk crates
    + A few extra large (at least 2ft cable ties)
2. Close valves on all sample bags
3. Remove tubing from sample bag valves
4. Use snips Carefully collect tedlar bags and snow in a goody bag dedicated solely to them for safe ascent; be careful when handing them up out of the water to whoever receives them on the small boat
5. Secure the two milk crates together with zip ties if not already fastened together for easier lifting
6. Affix 50lb lift bag with carabiner to milk crates in a secure fashion and make a safe ascent
7. Upon surfacing, instruct whomever is grabbing the tedlar bag samples from you to carefully place them into a CAU bucket filled with water to reduce pressure on the bags

**Transfer of Samples from Tedlar Bags to Glass Bod Bottles in Wetlab**

### Notes from Chris Langdon about PUCs

Notes from Chris Langdon:

- 9/14/15 email:   The new boards have a voltage regulator that can be set to 11.0 volts if only one pump is used and to 13.0 volts if two pumps are used (this gives the motor more torque needed to drive two pumps).
- O-rings you need for the two styles of PUCs.  Order from McMaster Carr. The o-rings should easily last a year.  I would suggest replacing them annually.

Old style cap ---- dash#   2-153.    McM. 9452K174

New style cap---- dash#  2-236     McM  9452K165

-
- 1/6/2018 email about new firmware:  It gives you 30 sec to hit a key about the pump starts running.  I also reduced the pump run time to 10 seconds.  You can now specify the month, day, hour and minute that the PUC will sample so you can set it up days in advance.  You will need the Basic Stamp editor application downloaded from Paralax.



# Aquadopp: Nortek ADCP

- 2MHZ aquadopps have a shorter range (20m I think)

## Programming the Aquadopp

1. Connect to the Aqudopp with the interface cable
2. Open Nortek software
3. From the Communication menu, select the correct com port for the instrument&#39;s interface cable (look this up in the device manager)
4. Communications -\&gt; connect (if it does not connect, the instrument&#39;s batteries may be dead; use the AC power adapter)
5. &quot;Erase Recorder&quot;
6. Set clock to UTC time: On-line -\&gt; set clock
7. Deploy-\&gt;planning-\&gt; load from file then chose&quot;PUC\_24HR\_1Mhz&quot; con file
8. If you can&#39;t find the file, use these settings:
  1. Frequency: 1 Mhz
  2. Profile interval: 300 seconds
  3. Number of cells: 20
  4. Cell size: 1 m
9. Start logging under Deployment \&gt; Start Recorder Deployment. File name and comments should include island code and cruise year.
10. Prep instrument for deployment
  1. Clean O-rings, replace battery (if needed)
    1. When opening the end cap, make sure to unscrew the screws a bit at a time, alternating screws, so that the end cap comes off evenly
  2. Plug in battery and end cap, add dessicant to battery case, close cap
    1. Make sure battery fabric doesn&#39;t get pinched in end cap
    2. Screw on cap a little at a time, alternating screws, to not bend or damage screws/cap
11. Note: Nortek recommends a 10V minimum cutoff voltage.

## Deploying the Aquadopp

- Orient the aquadopp so that the length of it&#39;s body is flat in relation to the surface of the ocean and that the head is also rotationally flat relative to the surface of the ocean
- Upon deployment shoot a bearing on positive X, take a picture of compass upon deployment
- Deploy instrument
  - Make sure it is pointing up, relatively flat, and solidly attached to something (NO WIGGLING)
  - The ADCP head should not be closer than 10 instrument diameters to any structure that is taller than the instrument head
    - Otherwise the beams will bounce off of the tall object, giving bad readings
  - Take a compass heading on deployment and record it if instrument is recording in xyz coordinates

## Retrieve the Aquadopp

1. Recover instrument
2. Download and process data
  1. Download data using Aquadopp software; Deployment \&gt; Recorder Data Retrieval. Saves as .prf file.
  2. Process using R package occ &#39;processADCP&#39; function.

# Shipboard Operations

Note: since the Hiialakai was decommissioned in 2019, no plans have been made to re-install the PCO2 or TA system on another vessel

## PCO2 System

- Perform simple check of system daily (see to-be-developed checklist)
- [See detailed documentation in this Google Drive Folder Link](https://drive.google.com/drive/folders/1p-Evjb3zrw4Kk460knsl4rI4m2Un_jyy)

## TA System

Perform simple check of system daily (see to-be-developed checklist)

- [See detailed documentation in this Google Drive Folder Link](https://drive.google.com/drive/folders/1p-Evjb3zrw4Kk460knsl4rI4m2Un_jyy)

<!--chapter:end:06-Instrumentation.Rmd-->

# Tasks at Sea {#tasks}

## Daily Tasks for the Team

[Find Excel version here via Google Drive](https://drive.google.com/open?id=1I4Hojo0qjKtUwhRqgc9aLM6_fGtjqZMM)


**STR**

* Before Ops
  + assemble, program and stage needed STRs 
  + confirm 10 36'' cable ties for each STR planned
  + write serial numbers of planned STR deployments on tomorrow's data sheet
* After Ops
  + download strs
  + enter deployments and retreivals into mooring database
  + import waypoints into mooring database
  + clean STRs, put weights and brackets on fantail or in DD bath

**CAU**

* Before Ops
  + Pack supplies for planned CAU site swaps
  + write down deploy CAU SNs on tomorrow's data sheet

* After Ops
  + scrape/record CAU SN's, re-bag and freeze with cruise & site label
  + dispose of old clips and stakes
  + after CTD/H2O data is entered, give data sheets to data manager

**Water Sampling and CTD**

* Before Ops
  + DIC bottles and all supplies in each kit
  + Niskin, line, messenger, weight staged for each CTD

* After Ops
  + rinse and stage CTDs
  + Swap full bottles for empties, dispose of waste
  + restock all supplies
  + replace and label any worn ziplocs
  + enter CTD and water sample log into CTD/H2O Database (hopefully this is not a necessary step on MARAMP 2020!)

**GPS Units (for OCC and benthic/fish GPS)**

* Drop off GPS units with data manager for waypoiont download

**Cameras**

* Before Ops
  + Ensure cameras are set to UTC time
  + Ensure cameras have memory cards
  + charge camera batteries
  + clean camera housings
  + bake desiccants and install them
* After Ops
  + download and sort photos
  + download and sort photoquad photos
  + charge cameras or swap charged batts for used batts
  + install new dessicants

**Stage all Gear**

* Action packer packed for day of ops
* Pam float and reel staged
* If deep STR: Marker Float and drop weight
* 1 full bag of large cable ties (keep on boat)
* CTDs and lines

**Other**

* gauge tanks

**Team Lead**

* Plan tomorrow's objectives
* Plan and communicate tank needs to team members

## Where to Save Data

[Checkout this Excel file on Google Drive for details on where to save data](https://drive.google.com/open?id=16l1OQgGEunLoADh_MEGyIfbQL2w0u6aw)

<!--chapter:end:09-Tasks-At-Sea.Rmd-->

# Data How To {#data_how_to}

## How to Gain Access to the OCC Database

As of January 2020, the OCC team is in the process of working with the data management team to migrate all OCC Team data and metadata to an Oracle database. In order to access this database, a new user must submit an [ITS support ticket](https://www.st.nmfs.noaa.gov/jira/login.jsp?permissionViolation=true&os_destination=%2Fbrowse%2FPICITS-181121%3Ffilter%3D-2&page_caps=&user_role=) to request an Oracle account in addition to requesting an install of SQL Developer. If you'd like to access data via R, you'll also need to request to have ODBC drivers setup. 

## How to Archive Data

After data is qc'd it mus be archived. As of January 2020, the best place to look for all information and guidance related to archiving data is in a [google drive folder setup by Annette](https://drive.google.com/drive/folders/1Oq76hN6eOhhJOevwZiO0nX4Gtf0tiJrp).

## How to Connect to the Oracle Database

[Checkout this live SOP on Google Drive for how to get connected to OCC Data in the oracle database](https://docs.google.com/document/d/19hVuyRj78kB3NHR4xF-mWZeOZCwYMDNSLSwQc08Af7s/edit#)

## How to Connect to the OCC Oracle Databse Via Oracle SQL Developer

1. Open Oracle SQL Developer
2. On the "Welcome Page" tab, under the "Databases Detected" tab, find the "GIS" database and click it.
`r knitr::include_graphics(rep("images/SQL_Dev_Screenshot_1.jpg"))`
3. When prompted, enter your Oracle username and password
`r knitr::include_graphics(rep("images/SQL_Dev_Screenshot_2.jpg"))`
4. In the "Connections" pane, expand the "GIS" database and navigate down to "Other Users"
`r knitr::include_graphics(rep("images/SQL_Dev_Screenshot_3.jpg"))`
5. Expand "Other Users" and navigate down to "GISDAT"
`r knitr::include_graphics(rep("images/SQL_Dev_Screenshot_4.jpg"))`
6. Within "GISDAT" find OCC tables begining with "OCN" (note as of March 2020, this is soon to be changed to "OCC" prefix when the data team updates the new tables)






<!--chapter:end:10-Data-How-To.Rmd-->

# Various Underway resources

**Where to Save Various Data Streams**
Checkout [this google drive file](https://docs.google.com/spreadsheets/d/16l1OQgGEunLoADh_MEGyIfbQL2w0u6aw/edit#gid=1675337307) showing the paths of where to save various things

<!--chapter:end:11-Various-Underway-Resources.Rmd-->


# Calcification Accretion Unit (CAU)


Authors: Misa PL, Richards CR, Halperin AH, Little AL, and Weible RM (revised March 2020)

`r knitr::include_graphics(rep("images/CAU.jpg"))`


## CAU Assembly Schematic

`r knitr::include_graphics(rep("images/CAU_assembly.jpg"))`



## CAU Laboratory Sample Processing SOP


### Processing Timeline

Approximately 25 units or 50 CAU plates can be processed as a batch (at ESD-CREP, this is equivalent to CAUs collected from about 1 island). The processing of each batch is typically completed in 4 weeks. Below is an example of a typical processing timeline 


`r knitr::include_graphics(rep("images/CAU_table.jpg"))`


### Preparation Work

**ID Tags**

1.	Assign a unique ID to both plates of each Calcification Accretion Unit (CAU) using the **CAU Plate ID** naming convention SiteID_RecoveryYear_4-digitSerial#_PlateLocation (“U” - upper plate, “L” - lower plate)  
  
    e.g. PAL01_2012_5319_U; PAL01_2012_5319_L

2.	Using a pencil, **pre-label the following with the CAU Plate ID (e.g. PAL01_2012_5319_U):**  
  
    a.	Paper tray A - blank index card 12.7 x 20.32cm (5” x 8”) folded into 12.7 x 12.7cm (5” x 5”) paper tray  
    b.	Paper tray B - same as above  
    c.	Filterpaper 11cm diameter, #1, >11μm particle retention (e.g. Whatman No.1001-110)  

3.	Insert the corresponding Filter paper into the fold of Paper tray B and store in a container. Place Paper tray A in a separate container. Store both containers away from moisture and direct sunlight. See I. Step 8 for pre-weighing instructions. 

4.	Print **Glass Dish Labels** on waterproof paper using the template in Section VII.C.1. Attach each label on one side of the glass dish with tape.

5.	Print the Plate Photo ID tags on waterproof paper using the template in Section VII.C.2.There are 4 tags, one for each surface of the CAU to be photographed:  

    Upper Plate, Top Side  
    Upper Plate, Bottom Side  
    Lower Plate, Top Side  
    Lower Plate, Bottom Side   
	
    An example of a plate photo ID: *PAL01_2012_5319_U_T*

6.	Using an analytical balance, **pre-weigh** the following and record the value (up to 3 decimal points) in the ESD Apex CAU Mission App (or the CAU Data Entry tool for ESD-CREP users, see Section VI p. 20):  

    a. Paper tray A - record the value in Column (‘Paper Tray A Weight [g]’)  
    b. Paper tray B + Filterpaper - record the value in Column (‘Filter & Paper Tray B Dry Weight  [g]’)  

**Re-sealable Bag ID**

Pre-label **re-sealable plastic bags** 0.95L (1 quart) with the CAU Plate ID. The filter residue will be stored in this bag for archiving

**Database**

1. Using the **ESD Apex CAU Mission App** (or the CAU Data Entry tool for ESD-CREP users, see Section VI p. 20), have the Data Management team enter the CAU Site IDs (e.g. *PAL01*) and 4-digit CAU Serial #s (e.g. *5319*) for each unit to be processed


2. To calculate the **“Soak Time”** of each unit, record the CAU “Deployment Date” and “Recovery Date” in Column CA and CB, respectively. Record any other additional field data in the spreadsheet (e.g. coordinates, depth, comments, etc.). When using the ESD Apex CAU Mission App, soak time is calculated automatically.

**Pre-heat Drying Oven**

Oven (Heratherm OGS-180) settings:  

    Temperature: 70°C (140°F)  
    Damper: level 3 (mid-high)  
    
**Prepare 5% HCl acid solution in 2-liter bottles** 

One batch (20-30 units) of CAUs will require about 10-15, 2-liter bottles of 5% HCl acid solution in order to completely dissolve calcified materials. More may be needed depending on the amount of accreted CaCO3.  
	
	
	
To dilute full-strength HCl acid (1.18 g/mL, 36.5 molar mass, 37% conc.) into 5% solution, use the recommended ratio below:  

    2L stock: 225 ml HCl  
         1775 ml deionized/distilled H2O  
	
    1L stock: 112.5 ml HCl  
         887.5 ml deionized/distilled H2O  



** Be sure to **ADD ACID TO WATER** to avoid excessive heating, violent boiling or splashing of concentrated acid that could result from the exothermic reaction. 
“Do as you oughta, add acid to water!” - Dr. Anne Cohen, WHOI    
 

** Acid solutions with a higher (>5% HCl concentration) may be prepared and used if desired for processing CAUs from heavily calcified regions (American Samoa, PRIAs), however concentrations **greater than or equal to 15% HCl require special PPE including fume hood utilization.**

### CAU Processing Steps

*see Section IV, p.11 for sample processing timeline and Section VII.A, p.36 for sample daily task guide*


#### Dissassembling and Photo-documentation

1.	Thaw a batch of CAUs (typically 20-30 units) in the sink for at least 12 hours. Do not thaw over water.

2.	Disassemble the plates of each CAU by removing the hex nuts and washers using two 1/4" wrenches (one to hold the unit steady). Make sure to maintain plate identity (upper vs lower plate, top vs bottom side of plate) and the CAU Plate ID.

`r knitr::include_graphics(rep("images/CAU_plate_ID.jpg"))`

3.	Carefully rinse each plate in a saltwater rinse basin (if saltwater is not readily available, freshwater may be used) to remove loose sediment, sand and mobile fauna. Discard any mobile fauna that may have fallen off during rinsing.

4.	Fill each pre-labeled glass dish with saltwater(or freshwater). 

5.	Place each CAU plate with the **top plate facing upwards** into its corresponding glass dish. Ensure that the plate and any encrusting fauna are completely submerged in water. Add more water if necessary (see Section V.C for additional instructions)

`r knitr::include_graphics(rep("images/CAU_dried.jpg"))`

6.	Attach a DSLR camera to a camera copy stand or a tripod. Arrange lighting such that the plate is fully illuminated and no glare is visible to the camera 

** *If using a Nikon D7000 camera mounted on a copy stand kit with attached lights, see Section V, p. 12 for tethering protocol and recommended settings (**f/8, ISO400, AWB**).*

`r knitr::include_graphics(rep("images/CAU_photograph.jpg"))`

7.	It is recommended to tether the camera to a computer and save the photos directly to the computer’s local drive (while using the camera’s SD card as a backup drive). Designate a folder where the CAU photoset will be stored directly. (May 2019 - ESD General (T:) Drive at:

    T:\Oceanography\CAUs\Analysis
    
    organized by Year and Cruise Mission, or Island Code for shore-based missions or those from the Atlantic.) 

8.	Photograph the top and bottom of each plate, first with the Plate Photo ID tag and then a 2nd image without the tag. (If pieces of calcified material fall off during the photographing process, retain the pieces with the plate to be used during the decalcification process).

`r knitr::include_graphics(rep("images/CAU_image.jpg"))`

9.	From the designated CAU photoset folder, confirm that both plate photos (with and without the Plate Photo ID tag) are in focus. After photographing both sides of each plate, each CAU photoset folder should have **8 photos**. The photos should be later on renamed with the following naming convention:  

    **a)	With Plate Photo ID tag:**
    SiteID_RecoveryYear_4-digitSerial#_PlateLocation (“U” - upper plate or “L” - lower plate)_PlateSurface (“T” - top plate or “B” - bottom plate)_ID.jpg    

    **b)	Without Plate Photo ID tag:**  
    SiteID_RecoveryYear_4-digitSerial#_PlateLocation (“U” - upper plate, “L”  lower plate)_PlateSurface (“T” - top plate, “B” - bottom plate).jpg   

    Example:  
    PAL01_2012_5319_U_T_ID.jpg		– Upper Plate, Top Side with tag  
    PAL01_2012_5319_U_T.jpg			  – Upper Plate, Top Side  
    PAL01_2012_5319_U_B_ID.jpg		– Upper Plate, Bottom   Side with tag
    PAL01_2012_5319_U_B.jpg		    – Upper Plate, Bottom Side  
    PAL01_2012_5319_L_T_ID.jpg		– Lower Plate, Top Side with tag  
    PAL01_2012_5319_L_T.jpg			  – Lower Plate, Top Side  
    PAL01_2012_5319_L_B_ID.jpg		– Lower Plate, Bottom Side with tag   
    PAL01_2012_5319_L_B.jpg			  – Lower Plate, Bottom Side  

10.	After photographing all units, if the CAUs were submerged in seawater, carefully rinse each plate in freshwater. If the CAUs were submerged in freshwater, skip the rinsing process.

11.	Be sure to remove all hex nuts and washers that may still be attached at the center of the plate. Hex nuts and washers can be covered by calcified material and difficult to see. Inspect each side of each plate to ensure that there are no washers or hex nuts present. If a hex nut or washer is covered in calcified material, remove the hardware and chip off the calcified material from the hardware. Retain the removed material with the rest of the plate.

12.	Place each plate and any dislodged pieces of calcified material on its corresponding Paper Tray A, then onto a drying rack and placed in the fume hood. The drying rack can be left in a fume hood to air dry at room temperature indefinitely (**minimum of 24 hours**), until they are dried in the oven.  

** *Drying at room temperature before placing in the oven can help reduce the time the plates remain in the oven.*  

** *Wash and rinse the glass dishes but keep the labels on. The same glass dishes will be used during the HCl acid decalcification process.*


#### Determining the weight of the CAU plate

1.	After a minimum air-drying period of 24 hours, place the **plate assembly (plate, dislodged pieces of calcified material and Paper Tray A)** in the oven labeled “**Non-HCl**” to dry at 60°C for 24 hours.  

    ** *Check that the internal temperature remains consistent. If not, minor adjustments should be made to the oven temperature and damper settings.*

2.	After 24 hours, remove the plate assembly and allow it to come to room temperature (roughly 10 min).

3.	Weigh the **entire plate assembly**.

4.	In the ESD Apex CAU Mission App (or CAU Data Entry tool for ESD-CREP users), record the weight to at least 3 decimal places under the column ‘*Drying 1 [24 h] [paper tray + CAU plate] [g]*’. 

5.	Return the plate assembly in the oven.

6.	Dry the CAU plates for another 24 hours.

7.	Remove the plate assembly and allow it to come to room temperature (roughly 10 min).

8.	Weigh the **entire plate assembly**.

9.	In the ESD Apex CAU Mission App (or CAU Data Entry tool for ESD-CREP users), record the 2nd weight to at least 3 decimal places under the column ‘*Drying 2 [48 h] [paper tray + CAU plate] [g]*’.

10.	Compare the current weight from the previous weight:

    a. If the difference in weight is less than 0.1g, the plates are considered dry and no further drying needs to occur. This is automatically calculated by the ESD Apex CAU Mission App and denoted by the ‘Plate Dry’ column on the far right saying ‘YES’.
		
    b. If the difference in weight is greater than 0.1 g, return the plates to the oven for another 24 hours.

11.	Repeat *III.B Steps 5-10* until the difference in weight is less than 0.1 g.


#### Decalcification of CaCO3 in Hydrochloric Acid 

**Be sure to wear proper PPE when handling acid contaminated objects (steps 1-9) including gloves, safety glasses, and lab coat.**

1.	Ensure that the plate is fully dry (mass lost between last two weighing will have been less than 0.1g) and the weight of the plate assembly and Paper Tray A has been recorded.

2.	Place the individual plates in the pre-labeled glass dishes. Keep Paper Tray A and place under the glass dish.
 
3.	Chip off large pieces of calcified materials (e.g. CCA, coral, shells, etc.) and grind using a mortar and pestle. Return the pulverized forms in the glass dish.

4.	Fill the glass dish midway with 5% HCl (or otherwise chosen concentration) acid solution  or until the entire CAU plate is fully submerged in acid. **Add HCl acid slowly as the solution may overflow when bubble formation/decalcification begins. The overflow most definitely occurs when dissolving plates from Rose and Swains Atoll.**

5.	When decalcification has slowed (12-24 hours):  

    a.	Scrape leftover material from the CAU plates with a razor blade into the glass dish. (See III.C, Step 8-15).  

    b. Grind pieces of calcified materials that may still be present and return in the glass dish.  

    c. Using acid-resistant gloves, sort through the scraped fleshy material in the glass dish and feel for any calcified materials.  

    d. Some calcified material can be completely covered by a boundary layer of fleshy material. If present, manually tease the fleshy material and grind the calcified material to allow decalcification to continue.  

    e. If there are more calcified materials in the dish, but no obvious decalcification occurring (no bubble formation), decant the used acid solution and drain the fleshy material into another pre-labeled containers (beakers, glass dish, etc). Add new 5% HCl acid solution (*or desired concentration) in the first glass dish to continue dissolving the remaining calcified materials.   

`r knitr::include_graphics(rep("images/CAU_dissolve.jpg"))`

6.	Repeat III.C, Steps 5b)-e) until all CaCO3 is fully dissolved. Additional 5% HCl acid solution (*or desired concentration) may need to be added 2-4x, depending on the amount of CaCO3 present.

7.	Using 5% HCl acid (*or desired concentration) in a squeeze bottle, thoroughly rinse the tools (gloves, mortar and pestle, razor/scraper) into the glass dish. 

8.	When the CAU PVC plates have been scraped clean (fleshy/calcified material completely removed from either side and edges of the plate), rinse all sides of the plates with 5% acid (*or desired concentration) into the glass dish.

9.	Have a bowl of freshwater ready to scrub and rinse the CAU PVC plates once they are completely clear of particles from the previous step. Pat to dry.

10.	Place the CAU PVC plate on its corresponding Paper Tray A.

11.	Place the rinsed CAU PVC plates in the oven at 60°C for 24 hours on top of the corresponding Paper Tray A.

12.	Remove the plate from the oven and allow to come to room temperature (roughly 10 min). 

`r knitr::include_graphics(rep("images/CAU_drying.jpg"))`

13.	Weigh the clean and dry CAU PVC plate without the underlying paper tray. - *Paper Tray A can be discarded after the CAU PVC plates have been weighed and recorded.

14.	In the ESD Apex CAU Mission App, record the weight to at least 3 decimal places under the column ‘*CAU PVC Dry Weight [g]*’.

15.	Collect the clean and weighed CAU PVCs and store for redeployment/archiving.


#### Vacuum filtration of fleshy material

**Be sure to wear proper PPE when handling acid contaminated objects (steps 1-4) including gloves, safety glasses, and lab coat.**

1.	Using a 4-liter Buchner funnel, a plastic mesh layer (with attached pull string) and the corresponding pre-weighed filter paper, vacuum filter the acid bath and remaining fleshy material for each CAU plate. Use a freshwater squeeze bottle to rinse contents of the glass dish into the funnel.

2.	If the volume of fleshy material is sufficient to clog the filter paper, a 2nd pre-labeled and pre-weighed filter paper (*see III.D, Step 2, a-c*) can be used to filter the remaining volume of acid bath and fleshy material:  

    a. Label an additional filter paper and paper tray with its corresponding CAU Plate ID (e.g. *PAL01_2012_5319_U*).  

    b. In the ESD Apex CAU Mission App, record the weight of the 2nd filter paper + paper tray to at least 3 decimal places in the column '*Addtl Filter & Paper tray B Dry Weight [g]*’.  

3.	If filtering has slowed down, use a spatula/teaspoon to gently scrape the surface of the filter paper to allow more solution to filter through. Filtering can take >5 mins depending the amount of fleshy material in the acid bath.

`r knitr::include_graphics(rep("images/CAU_filter.jpg"))`

4.	When filtration is completed, place the filter paper on its corresponding Paper Tray B and onto a drying rack. The drying rack should be left in a fume hood to air dry at room temperature (minimum of 24 hours). The filter paper can continue to air dry at room temperature, indefinitely, until they are dried in the oven.


#### Determining the weight of the fleshy material

**Be sure to wear proper PPE (gloves) when handling acid contaminated filters in this section.**

1.	After a minimum air-drying period of 24 hours, place the **filter paper assembly (filter paper and Paper Tray B)** in the oven to dry at 60°C for 24 hours.  

** *Check that the internal temperature remains consistent. If not, minor adjustments should be made to the oven temperature and damper settings.*

2.	After 24 hours, remove the filterpaper assembly and allow it to come to room temperature (roughly 10min).

3.	Weigh the *entire filterpaper assembly.*

`r knitr::include_graphics(rep("images/CAU_weigh.jpg"))`

4.	In the ESD Apex CAU Mission App, record the weight to at least 3 decimal places under “Filters” >‘*Drying 1 [24 h] [paper tray + filterpaper] [g]*’. 

5.	Return the filterpaper assembly to the oven.

6.	Dry the filterpaper for another 24 hours.

7.	Remove the filterpaper assembly and allow it to come to room temperature (roughly 10min).

8.	Weigh the **entire filterpaper assembly**

9.	In the ESD Apex CAU Mission App, record the weight to at least 3 decimal places under “Filters” >‘*Drying 2 [48 h] [paper tray + filterpaper] [g]*’. 

10.	Compare the current weight from the previous weight:  

    a. If the difference in weight is less than 0.1g, the plates are considered dry and no further drying/weighing needs to occur.  

** *In the ESD Apex CAU Mission App, the column to the far right called “Filter Dry” has been formatted to change from ‘NO’ to “YES” if the difference in weight is less than 0.1g.*  
		
    b. If the difference in weight is greater than 0.1 g, return the plates to the oven for another 24 hours.  

11.	Repeat III.E Steps 5-10 until the difference in weight is less than 0.1 g.

12.	After recording the final filterpaper assembly dry weight, place the filterpaper and Paper tray B in its corresponding re-sealable bag for archiving. Ensure the bag is labeled properly using the CAU Plate ID naming convention:  

*SiteID_RecoveryYear_4-digitSerial#_PlateLocation (“U” - upper plate, “L” - lower plate)*

`r knitr::include_graphics(rep("images/CAU_bag.jpg"))`






### Camera tethering and CAU plate photo-documentation via Nikon Camera Control Pro 2

*Refer to the brand/model user documentation/manual if using a different camera and setup*

#### Installing the software

For ESD-CREP users, the installation instructions and software product key can be accessed in the network folder 

    T:\general\ProjectGroup\Ocean Acidification\CAUs\Analysis\CAU Processing SOP, Data sheet, Labels\CAU SOPs 2015\CAUSOP_NikonD7000Settings.pdf

#### Connecting the camera to the computer

1.	Connect Nikon DSLR camera (Nikon D7000 with AF-S Micro NIKKOR 60mm f\2.8G ED lens) to the computer via USB mini cable

`r knitr::include_graphics(rep("images/Camera.jpg"))`

2.	Start the Nikon Camera Control Pro 2 application
3.	Turn the camera ON

4.	Once connected, the connection status of the camera in use will be displayed on the Camera Control Pro window

`r knitr::include_graphics(rep("images/Camera2.jpg"))`

5.	**If using the software for the FIRST TIME:**
		
    a. Click on “**Exposure 1**” under the Camera Control tabs and change the settings of the following: 

    Shutter speed: 1/50 sec
    Aperture: f/8

`r knitr::include_graphics(rep("images/Camera3.jpg"))`

    b. Click on “**Exposure 2**” under the Camera Control tabs and change the settings of the following:  

    ISO Sensitivity: ISO 400
    White Balance: Auto
    Option: Normal  

`r knitr::include_graphics(rep("images/Camera4.jpg"))`

    c. Click on “**Storage**” under the Camera Control tabs and change the settings of the 	following:  

    Image Quality: JPEG fine
    JPEG Compression: Optimal quality
    Image size: Large (4928x3264)
    Record to: PC
    Card Record Mode: Backup  

`r knitr::include_graphics(rep("images/Camera5.jpg"))`


    d. Click on “**Image Processing**” under the Camera Control tabs and change the settings of the following:  

    Picture Control: Standard
    High ISO NR: On (High) 

** *Note: the above settings need to be set each time the software is reinstalled and the above settings will need to be modified if a new camera model/lens are used*

`r knitr::include_graphics(rep("images/Camera6.jpg"))`


#### CAU plate photo-documentation

1.	Ensure that the camera’s Mode dial is set to “M” (Manual) 

`r knitr::include_graphics(rep("images/Camera7.jpg"))`

2.	Ensure that the camera lens’ A-M switch is set to “M-A” (Autofocus w/ manual override).

`r knitr::include_graphics(rep("images/Camera8.jpg"))`

3.	Connect the Nikon DSLR camera to the copier stand, then connect the camera to the computer via mini USB cable

`r knitr::include_graphics(rep("images/Camera9.jpg"))`

4.	Start the Nikon Camera Control Pro 2 application

5.	Turn the camera ON

6.	Once connected, the connection status of the camera in use will be displayed on the Camera Control Pro main window

`r knitr::include_graphics(rep("images/Camera10.jpg"))`

7.	Go to the **Tools** menu to display the **Transfer Options** window 

`r knitr::include_graphics(rep("images/Camera11.jpg"))`

8.	Click the **Browse** button next to the “*Destination folder*”. For ESD-CREP users, navigate to the appropriate CAU site and unit folder location 

    ex: Documents\\CAU Analysis\\ASRAMP 2015\\PHOTO ANALYSIS\\SAMOA\\SWAINS\\SWA03\\SWA03_368 

    where the images will be downloaded as they are taken. Click **OK**

`r knitr::include_graphics(rep("images/Camera12.jpg"))`

`r knitr::include_graphics(rep("images/Camera13.jpg"))`

9.	On the Camera Control Pro main window, click on the “**LV**” button at the bottom-right corner to display the Live View window. 
		
** *Note: the camera controls and folder location options cannot be modified while the Live View window is displayed*

`r knitr::include_graphics(rep("images/Camera14.jpg"))`

10.	Center the glass dish with the plate under the camera and using the Live View display, ensure that all corners of the plate are visible in the frame 			
	
** *Note: both copier stand lights should be switched on at this time and that any external light sources are minimized (i.e., window shades are drawn, overhead/ceiling lights are switched off)*

`r knitr::include_graphics(rep("images/Camera15.jpg"))`

11.	Using the “**AF and Shoot**” button on the Live View window, photograph the top of the plate, **first with the Plate Photo ID tag** and then a **second image without the tag**

`r knitr::include_graphics(rep("images/CAU_image.jpg"))`

12.	Flip the plate and photograph the **bottom** of the plate, again with Plate Photo ID tag and then a second image without the tag

13.	From the designated CAU unit folder, confirm that both plate photos (with and without the Plate Photo ID tag) are in focus
14.	Repeat for the next set of plates/surfaces for each unit

15.	After all 8 images have been taken and saved to the unit folder (e.g. SWA03_368), click on the “**LV**” button at the bottom-right corner to turn off Live View

16.	On the Camera Control Pro main window, go to the Tools menu to display the **Transfer Options window**. Click on the **Browse** button next to the “*Destination folder*” and **navigate to the next CAU site and unit folder** (e.g. *SWA03_394*). Repeat steps C. 7-13

`r knitr::include_graphics(rep("images/Camera16.jpg"))`

`r knitr::include_graphics(rep("images/Camera17.jpg"))`

17.	At the end of the plate photo documentation session, ensure that all CAU plate photos have been taken and saved to their appropriate local drive folders

18.	Backup the images by copying the **Island** parent folder,   

    ex: Documents//CAU Analysis//ASRAMP 2015//HOTO ANALYSIS//SAMOA//SWAINS   
    
    to the network drive,   

    ex: T:\Oceanography\CAUs\Analysis\2018_CAU Analysis\ASRAMP18\PHOTO ANALYSIS\SAMOA\SWAINS
    
    and to the external hard drive. If prompted, select “Overwrite”

19.	Turn off the camera and disconnect it from the mini USB cable. On the Camera Control Pro main window, select Exit from the File menu

20.	Rename all plate photos with the following naming convention:  

    a. **With Plate Photo ID tag:**  
    SiteID_RecoveryYear_4-digitSerial#_PlateLocation (“U” - upper plate or “L” - 	lower plate)_PlateSurface (“T” - top plate or “B” - bottom plate)_ID.jpg  

    b. **Without Plate Photo ID tag:**  
    SiteID_RecoveryYear_4-digitSerial#_PlateLocation (“U” - upper plate, “L” - 	lower plate)_PlateSurface (“T” - top plate, “B” - bottom plate).jpg   

    Example:  
    PAL01_2012_5319_U_T_ID.jpg		– Upper Plate, Top Side with tag  
    PAL01_2012_5319_U_T.jpg			  – Upper Plate, Top Side  
    PAL01_2012_5319_U_B_ID.jpg		– Upper Plate, Bottom   Side with tag
    PAL01_2012_5319_U_B.jpg		    – Upper Plate, Bottom Side  
    PAL01_2012_5319_L_T_ID.jpg		– Lower Plate, Top Side with tag  
    PAL01_2012_5319_L_T.jpg			  – Lower Plate, Top Side  
    PAL01_2012_5319_L_B_ID.jpg		– Lower Plate, Bottom Side with tag   
    PAL01_2012_5319_L_B.jpg			  – Lower Plate, Bottom Side  


`r knitr::include_graphics(rep("images/Camera18.jpg"))`

21.	Copy the newly-renamed images to the network folder by copying the **Island** parent folder 

    e.g. Documents//CAU Analysis//ASRAMP 2015//PHOTO ANALYSIS//SAMOA//SWAINS
    
    to the network drive   

    e.g. T:\Oceanography\CAUs\Analysis\2018_CAU Analysis\ASRAMP18\PHOTO ANALYSIS\SAMOA\SWAINS  
    
    and to the external hard drive. If prompted, select “Overwrite”  



## CAU Data Entry Tool User Documentation
	 
	 *for ESD-CREP use only*
	 *Last modified by David Igeta on 12/15/2015*
	 
	 
### Application Overview

Summary: This web application was created using Oracle Application Express (APEX) 5.0 in order facilitate the process of recording the Calcification Accretion Unit (CAU) weights into a database. In order to request access to the application, please contact ITS or the Data Management department for assistance.  
	 
Interface: The web application is categorized in to four main sections:  

* **Home**
* **Data Entry**
* **Data Summary**
* **Audit**
	 

#### Home
	 
This page breaks down the number of CAUs that still need to be weighed by Plate, Site, and Island. The 
** **Valid Plate**, **Valid Filter**, and **Filter Subplate** fields are explained in another section* 
	 
`r knitr::include_graphics(rep("images/Data1.jpg"))`

#### Data Entry 
	 
The Data Entry section is where you will go to enter all the weights that you will find. This table shows all the data that has been entered. Editing the plate weights and filter weights are actually recorded in separate pages by clicking on items 6 and 7. Below is an image of what you’ll see when you navigate to the Data Entry page.
	 
`r knitr::include_graphics(rep("images/Data2.jpg"))`
	 
    a)	**Breadcrumb Bar** – use this to navigate through the different levels of the application  

    b)	**Finder Drop Down** – use this to select the column you wish to search by  
    
    c)	**Search Field** – enter search criteria here  

    d)	**Search Button** – click this button to execute your search criteria or hit ‘Enter’  

    e)	**Row Selecto**r – choose the number of rows you wish to display on the page  

    f)	**Action** – Allows you to download the table, and perform more advanced functions  

    g)	**Edit Plate Weights** – Navigates to a new page where data for the CAU plates are entered  

    h)	**Edit Filter Weights** – Navigates to a new page where data for the CAU filters are entered  




**Edit Plate Weights Page**
	 
The **Edit Plate** and **Edit Filter** pages are identical; however, we are going to work with the **Edit Plate** page below. Click on the **Edit Plate Weights** button (shown in figure 2) to navigate to the screen below:
	 
`r knitr::include_graphics(rep("images/Data3.jpg"))`
	 
    a)	Filter By Island – Drop down list of islands shown in table  

    b)	Rows to Display – Select number of rows to display  

    c)	Select drying cycle  

    Select the name of the column you wish to edit. Each item in the drop down menu corresponds to a column in the table. Once you’ve selected the cycle, click Apply Filters to begin inputting data into that column  

    d)	Note how only one column can be edited at a time. This application was designed to be used with software that inputs data directly from a scale which uses a tab delimiter  

    e)	Apply Filters – must be clicked each time a change is made on items 1 through 3  

    f)	Edit Filter Weights - Navigates to a new page where CAU filter weight data is inputted  
    
`r knitr::include_graphics(rep("images/Data4.jpg"))`
    
    g)	Save – allows you to submit your changes and displays the number of records that have been updated  

    h)	Calculate – Filters any records that have been completed from the table. Once filtered, these CAU plates will be used in the calcification rates calculations. The following criteria must be met before a record is filtered from the Edit Plate Weights and Edit Filter Weights pages:  
    *	Edit Plate Weights  
        +	The **Plate_Dry** column says **YES** (This value determines whether a plate is dry)  
        +	The **Paper_Tray_Weight** is NOT empty (Entering ‘0’ will suffice)  
        +	The **CAU_Pvc_Dry_Weight** is NOT empty (Entering ‘0’ will suffice)  

    *	Edit Filter Weights  
        +	The **Filter_Dry** column says **YES** (This value determines whether a filter is dry)  
        +	The **Filter_Paper_Tray_Dry_Weight** is NOT blank (Entering ‘0’ will suffice)  

If you notice that a record is not being filtered from the table by clicking on the Calculate button, ensure the three criteria mentioned above are being met.

Note: CAU plates will NOT be accounted for in the final calculations until they have been filtered from this page using the Calculate button.

Unlike the **Save** button, this button will not display how many records have been filtered from the screen.



	 
**Edit Filter Weights Page**
	 
If you click on the **Edit Filter Weights** button (see figure 3), it will take you to a screen identical to the **Edit Plate Weights** page. The difference here is the type of columns it shows and an **Overflow** button.
	 
`r knitr::include_graphics(rep("images/Data5.jpg"))`




**Overflow Page Overview**
	 
Clicking on the Overflow button will bring you to a separate page that displays any subplates that have been created whether they have been dried or not. The **Overflow** page is used to add additional filters (subplates) in the event a filter is too small or heavy for the scale. Explaining how to add, edit, and delete a subplate is explained in another user guide.
	 
`r knitr::include_graphics(rep("images/Data6.jpg"))`




**Plate/Filter Dry Column**
	 
You will see a column called, **Plate Dry** or **Filter Dry** in some tables. This column automatically updates each time you save your changes.
	 
In a nutshell, the column will take the difference between the previous weight and the current weight. If the difference is outside of the range – **1 g to 0.1 g** then the column will say **NO** if the plate is not dry and **YES** if it is dry.
	 
** *Note: There are times when a plate or filter will actually get heavier between drying cycles due to the moisture in the air; however, a plate/filter is considered dry if it gains no more than 0.1 grams.*
	 


**Comments Column**
	 
This column can be modified by selecting the drying cycle to **Comments**. The comments field allows you to record information about a particular record in the database. Once you make your changes, be sure to click the **Save** button.
	 
** *Note: The ‘Edit Plate Weights’ and ‘Edit Filter Weights’ are two tables that separates the table shown in the ‘Data Entry’ screen due to the number of columns it has. However, even though it may seem that each page has its own Comments field, both pages actually shares that field*
	 



**Valid Plate/Filter Codes**
	 
There are three main codes associated with these columns:

    *	N = record is not dry  
    *	Y = record is dry and will be included in the calculation if both the upper and lower plates are ‘Y’ or ‘F’  
    *	F = record was force-dried and will be included in the calculation if the upper and lower plates are ‘Y’ or ‘F’  
    *	B = record is considered bad and is not included in the end calculations  

** *Note: In order to modify the valid plate/filter columns, you will need update access to the CAU_ANALYSIS table inside Oracle SQL Developer. As long as these two fields have a value of either ‘Y’ or ‘F’, the record will be included in the end calculations*

	 
	 
#### Data summary
	 
This section allows you to view the calcification rates by unit, site, or island. You can also export the information to either an HTML or CSV file by clicking the Download option shown below. Tools built-in to the interactive reports can be used to filter the data and create tables for graphical analysis.
	 
Each report has the same options to choose from in the **Actions** drop-down menu. If you need more information about what a particular feature does, click on the **Help** option.
	 
`r knitr::include_graphics(rep("images/Data7.jpg"))`

The Data Summary page is where you will see the following calculations:

    *	Net Weight  
    *	Final Material Dry Weight  
    *	Final Fleshy Weight  
    *	Calcification Rate By Plate    

There are three additional report pages:  
    
    *	Calcification Rate By Unit (shows calculation by grouping the upper and lower plates together)  
    *	Calcification Rate By Site (shows calculation by grouping the sites together)  
    *	Calcification Rate By Island (shows calculation by grouping the islands together)  

**Generating Reports with Calcification Rate By Island**
	 
This page displays the calcification rates by island and includes a bar graph to help depict the number values. You can filter the report by **region name, year, and island** as you wish. Once you’ve made your selections, click on the **Generate Report** button to update the graph and table.
	 
** *Note: The table is a graphical depiction of what is shown in the table below and vice versa*
	 
`r knitr::include_graphics(rep("images/Data8.jpg"))`

`r knitr::include_graphics(rep("images/Data9.jpg"))`



#### Audit

This page is a read-only summary of what is shown in the **Data Entry Summary** page with a few additional columns.

For each column that can be edited by a user, there are two additional columns that correspond to it: **Last Mod By** (shows who last modified column) and **Last Mod DTM** (date, time, month, a record was modified).

For example, in the figure shown below, you see the **Paper Tray Weight** column next to two other fields before the **Filter Paper Tray Dry Weight** is shown.

`r knitr::include_graphics(rep("images/Data10.jpg"))`



### Data Entry Tutorial

In this tutorial, we will be adding plate weights into our application. A similar process would apply to the filter weights.

1.	Click on the Data Entry icon

2.	Next, click on the **Edit Plate Weights** button

`r knitr::include_graphics(rep("images/Data11.jpg"))`

3.	Let’s say we wish to record the first drying cycle weight for a plate in Baker: and show 25 results per page:

    a.	**Filter By Island** – Select Baker
    b.	**Rows to Display** – Select 25
    c.	**Select Drying Cycle** – Weight Plate Drying 1

4.	Once you have made your changes, click on the **Apply Filters** button to see them take effect

`r knitr::include_graphics(rep("images/Data12.jpg"))`

5.	Click inside the text box to input the new weight using the button on the scale. You should automatically see the weight get entered into the cell and the cursor will jump down to the next record. Repeat until you’ve entered all weights for the first drying cycle. Make sure to hit **Save** once you are done and change the drying cycle to **Weight Plate Drying 2** to begin the next cycle when ready.

6.	After you click on **Save**, a green dialog box will tell you how many rows have been updated with new values as shown in the next figure.

`r knitr::include_graphics(rep("images/Data13.jpg"))`

7.	Once you see a record in the **Plate/Filter Dry** column display **YES** in red, this means the plate/filter is dry.

** *Note: The ‘Calculate’ button will not filter a record until a value is entered into the ‘Paper Tray Weight’ and ‘CAU PVC Dry Weight’ fields.*

Once BOTH the upper and lower plates of a CAU unit have been dried and removed from this table, the unit will get calculated into the final calcification rates which can be seen in the **Data Summary** section. If a lower or upper plate in a CAU unit is missing, then the entire CAU unit will NOT be included in the end calculations.

`r knitr::include_graphics(rep("images/Data14.jpg"))`

8.	You can move freely between entering weights for the filters and plates by clicking on the button shown below:

`r knitr::include_graphics(rep("images/Data15.jpg"))`



### Filter Overflow Tutorial

Summary: There will be times when an additional filter is needed in the event a single filter is not large enough to contain the accumulated calcification. In this case, another plate record or “subplate” must be created in order to keep track of the drying cycle weights for each filter.

*	The Overflow page can only be reached from the Edit Filter Weights page. Therefore, navigate to Data Entry > Edit Filter Weights > Overflow:

`r knitr::include_graphics(rep("images/Data16.jpg"))`

** *Note: If you’re currently entering data in the Edit Filter Weights page, ensure you save your changes before clicking on the Overflow button.*

*	The **Overflow** page will only allow you to view and add subplates, not edit them. In order to add a subplate, choose the **Island**, **Site**, and **Cau Serial Plate ID**, you wish to add from the drop down arrow shown below.

`r knitr::include_graphics(rep("images/Data17.jpg"))`

* The **Cau Serial Plate ID** drop-down menu will only appear once you have selected a **Site**. You can click the **Reset Filters** button to clear your current selections anytime.

`r knitr::include_graphics(rep("images/Data18.jpg"))`

*	Once you have selected a **Cau Serial Plate ID**, the **Add Subplate** button will appear. Once you’re satisfied with your selection, click the **Add Subplate** button to add the plate into the database

`r knitr::include_graphics(rep("images/Data19.jpg"))`

** *NOTE: The Cau Serial Plate ID drop-down list will only show non-dry filters currently in the application.*

* You will see your new subplate in the table shown below. To edit the subplate, navigate back to the **Edit Filter Weights** page from the breadcrumb bar at the top of the page.

`r knitr::include_graphics(rep("images/Data20.jpg"))`

*	Notice how there are now two of the same **Cau Serial Plate IDs** in the **Edit Filter Weight**s page. The way to distinguish them is by the **CAU Analysis ID**; this will always be unique. Once created, the subplate is just like any other plate. Add the weight of the additional filter to the **Filter Paper Tray Dry Weight** column.

`r knitr::include_graphics(rep("images/Data21.jpg"))`

**Deleting a Subplate**

Navigate back to the **Overflow** page. If you added a subplate by mistake, click on the pencil icon next to the record you wish to delete in the **Overflow** page.

`r knitr::include_graphics(rep("images/Data22.jpg"))`

** *Note: The original plate will always have a lower CAU Analysis ID than its subplates.*

A window will appear that allows you to view the information before you delete it. If you’re certain you want to remove the record, click the **Delete** button. If not, click **Cancel** or exit out of the window.

`r knitr::include_graphics(rep("images/Data23.jpg"))`

A window prompt should appear asking if you’re certain of your decision. Click **Ok**.

`r knitr::include_graphics(rep("images/Data24.jpg"))`

If successful, you should see a green dialog box appear in the top-right corner.

`r knitr::include_graphics(rep("images/Data25.jpg"))`




















<!--chapter:end:12-Calcification-Accretion-Units-CAUs.Rmd-->

# Post Cruise Activities {#postcruise}

## Data QC and Import into Oracle Database

## Instrument Refurbishment

<!--chapter:end:13-Post-Cruise-Activities.Rmd-->

# This is an Example Blank Chapter

copy it and use it as a template if you like

This is how you insert an image:
`r knitr::include_graphics(rep("images/OCC_Diurnal_Suite_Recovery_CJS.jpg"))`

<!--chapter:end:14-Blank_Example_Chapter.Rmd-->

